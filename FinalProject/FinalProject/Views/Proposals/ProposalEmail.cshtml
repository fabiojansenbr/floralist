@model FinalProject.Models.Proposal

@{
    int i = 1;
    Layout = null;
}

<p>
    Hello @Model.Customer.Name!
</p>
<p>
    It was nice meeting you and learning about your beautiful vision for this  special event. I'm excited for the opportunity to being a part of it! Please let me know what feedback you have for me once you get the chance to review the below proposal. 
</p>
<p>
    Thanks,
    <br />
    @Model.Designer.Name
</p>

<table>
    <thead>
        <tr>

            <th style="background-color:lightgrey;font-family:Arial, Helvetica, sans-serif;text-align:center; border-radius:10px; height:200px; width:775px;">
                <h1 class="display-4 text-center">@Model.Title</h1>
                <p class="lead text-center">@Model.Description</p>
            </th>

        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <table>
                    @foreach (var item in Model.ProposalItems)
                    {
                        <tr>
                            @while (i <= Model.ProposalItems.Count && i % 4 != 0)
                            {
                                <td>

                                    <img style="width: 250px;height: 250px; margin:0 5px 5px 5px;object-fit: cover;" src="https://floralist.azurewebsites.net/Images/Raw/@item.Image.Id" alt="@item.Caption" />
                                    <p style="width: 250px;height:100%; margin:0 5px 5px 5px">@item.Caption</p>
                                </td>
                                i++;
                            }
                        </tr>
                            @while (i <= Model.ProposalItems.Count && i % 4 == 0)
                            {
                                <tr>
                                    <td>

                                        <img style="width: 250px;height: 250px; margin:0 5px 5px 5px;object-fit: cover;" src="https://floralist.azurewebsites.net/Images/Raw/@item.Image.Id" alt="@item.Caption" />
                                        <p style="width: 250px;height:100%; margin:0 5px 5px 5px">@item.Caption</p>
                                    </td>
                                </tr>
                                i++;
                            }
                    }
                </table>
            </td>
        </tr>
    </tbody>
</table>

